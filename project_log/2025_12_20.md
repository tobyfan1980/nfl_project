# Project Log - December 20, 2025

## Model v2 Update

### Improvements to Model
- Updated `model.py` to include v2 versions of rating calculations:
  - **`offensive_rating_v2`**: Enhanced formula that includes:
    - Adjusted coefficients for yards component (from `* 2` to `* 0.5`)
    - Increased weight on points component (from `* 5` to `* 10`)
    - Added turnover differential component: `(op_turnovers - turnovers) * 10`
  
  - **`defensive_rating_v2`**: Refined formula with:
    - Adjusted yards divisor (from `/ 72` to `/ 350`)
    - Adjusted points divisor (from `/ 11` to `/ 20`)
    - Maintained turnover component structure

### Model Performance Results
- **Offensive Rating Correlation to Win/Lose**: **64%** (improved from previous version)
- **Defensive Rating Correlation to Win/Lose**: **58%** (improved from previous version)

### Implementation Status
- `calculate_rating_per_game.py` updated to use v2 methods
- Output files now generated as `{year}_game_ratings_v2.csv`
- Both v1 and v2 methods remain available in `model.py` for comparison

## Key Changes in v2 Formulas

### Offensive Rating v2
```python
math.sqrt(yards / 5 + 40) * 0.5 + \
math.sqrt(points * 5 * math.sqrt(2) * 0.6) * 10 + \
(op_turnovers - turnovers) * 10
```

**Key improvements:**
- Reduced yards component weight (better balance)
- Increased points component weight (points are more predictive)
- Added turnover differential (turnovers significantly impact outcomes)

### Defensive Rating v2
```python
yards_op / 350 - (25 * to_op + 72) / 72 + 1.3 * points_op / 20
```

**Key improvements:**
- Adjusted yards divisor for better scaling
- Adjusted points divisor for improved correlation

## Next Steps
- Continue to evaluate model performance across different seasons
- Consider additional factors that might improve correlation
- Analyze which components contribute most to the improved correlation

